<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YoBoiJake</title>
  <link rel="manifest" href="/manifest.json"/>
  <link rel="icon" type="image/png" href="/assets/images/logo.png">
  <link rel="stylesheet" href="/css/styles.css">
  <style>
    /* Add the bottom-left tab style for About button */
    #about-tab {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background-color: transparent;
      color: red;
      padding: 10px 20px;
      border: 2px solid red;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    #about-tab:hover {
      background-color: red;
      color: black;
    }
    /* Additional styles for body, header, etc. to ensure full theme coverage */
    body, header, nav, footer, main, h1, p, a, div, button {
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    } 

    /* Popup styling */
    #error-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      border: 2px solid red;
      border-radius: 10px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
      padding: 20px;
      z-index: 1000;
      display: none; /* Hidden by default */
    }

    #error-popup h3 {
      margin: 0 0 10px 0;
      color: red;
      text-align: center;
    }

    #error-popup p {
      margin: 10px 0;
      font-size: 14px;
      color: #333;
      text-align: center;
    }

    #error-popup .popup-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #error-popup .popup-footer button {
      background-color: red;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    #error-popup .popup-footer button:hover {
      background-color: darkred;
    }

    #error-popup .popup-footer label {
      display: flex;
      align-items: center;
      font-size: 14px;
      color: #555;
    }

    #error-popup .popup-footer input[type="checkbox"] {
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <header>
    <img src="/assets/images/logo.png" alt="YoBoiJake Logo">
    <span id="logo-name">YoBoiJake</span>
    <nav>
      <a href="/">Home</a>
      <a href="/games.html">Games</a> 
      <a href="/apps.html">Apps</a>      
      <a href="/search.html">Search</a>
      <a href="/chatgpt.html">ChatGPT</a>
      <a href="/settings.html">Settings</a>
    </nav>
  </header>

  <main id="home-content">
    <h1>Welcome to YoBoiJake</h1>
    <button id="about-blank-btn" onclick="openAboutBlank()">About Blank</button>
    <div id="verse-of-the-day" style="margin-top: 20px;">
      <h2>Jesus Verse of the Day</h2>
      <p id="daily-verse">Loading verse...</p>
    </div>
  </main>

  <!-- Fixed "About" tab in the bottom left -->
  <div id="about-tab" onclick="window.location.href='/about.html'">
    About
  </div>

  <!-- Popup for error message -->
  <div id="error-popup">
    <h3>Error Notice</h3>
    <p>
      If you click on a game or app and see this error: 
      <strong>"TypeError: Failed to fetch"</strong>, 
      either refresh the page or exit the game/app and re-enter it.
    </p>
    <div class="popup-footer">
      <label>
        <input type="checkbox" id="dont-show-again">
        Don't show this again
      </label>
      <button onclick="closePopup()">OK</button>
    </div>
  </div>

  <script>
    // Function to open a blank page
    function openAboutBlank() {
      let win = window.open("", "_blank");
      if (win) {
        win.document.body.style.margin = "0";
        win.document.body.style.height = "100vh";
        const iframe = document.createElement("iframe");
        iframe.style.border = "none";
        iframe.style.width = "100%";
        iframe.style.height = "100%";
        iframe.src = "/";
        win.document.body.appendChild(iframe);
      }
    }

    // Function to randomize verse every 24 hours
    const verses = [
      "John 3:16 - For God so loved the world that He gave His one and only Son, that whoever believes in Him shall not perish but have eternal life.",
      "Psalm 23:1 - The Lord is my shepherd; I shall not want.",
      "Philippians 4:13 - I can do all things through Christ who strengthens me.",
      "Matthew 5:16 - Let your light shine before others, that they may see your good deeds and glorify your Father in heaven.",
    ];

    function getDailyVerse() {
      const today = new Date().toISOString().slice(0, 10); 
      const randomIndex = parseInt(localStorage.getItem("verseIndex"));
      const lastUpdated = localStorage.getItem("lastUpdated");

      if (today !== lastUpdated || randomIndex === null) {
        const newIndex = Math.floor(Math.random() * verses.length);
        localStorage.setItem("verseIndex", newIndex);
        localStorage.setItem("lastUpdated", today);
        return verses[newIndex];
      }
      return verses[randomIndex];
    }

    document.addEventListener("DOMContentLoaded", () => {
      const dailyVerseElement = document.getElementById("daily-verse");
      dailyVerseElement.textContent = getDailyVerse();

      // Check if the popup should be shown
      const hidePopup = localStorage.getItem("hideErrorPopup");
      if (!hidePopup) {
        document.getElementById("error-popup").style.display = "block";
      }
    });

    function closePopup() {
      const dontShowAgain = document.getElementById("dont-show-again").checked;
      if (dontShowAgain) {
        localStorage.setItem("hideErrorPopup", "true");
      }
      document.getElementById("error-popup").style.display = "none";
    }
  <script>
    document.addEventListener('keydown', function (e) {
      const panicKey = localStorage.getItem('panicKey');
      if (panicKey && e.key.toUpperCase() === panicKey) {
        window.location.href = 'https://classroom.google.com';
      }
    });
  </script>
 <script>
  document.addEventListener('DOMContentLoaded', function () {
    // Load and apply the saved theme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      applyTheme(savedTheme);
    }

    // Initialize the theme selector if it exists
    const themeSelector = document.getElementById('theme-selector');
    if (themeSelector) {
      if (savedTheme) {
        themeSelector.value = savedTheme;
      }

      // Save and apply theme when the dropdown changes
      themeSelector.addEventListener('change', function () {
        const selectedTheme = themeSelector.value;
        localStorage.setItem('theme', selectedTheme);
        applyTheme(selectedTheme);
      });
    }
  });

  // Function to apply a theme dynamically to all elements
  function applyTheme(theme) {
    const allElements = document.querySelectorAll("*"); // Select all elements
    const styleSheet = document.getElementById('dynamic-theme-styles') || createDynamicStyleSheet();

    // Clear previously applied styles for the default theme
    if (theme === 'default') {
      allElements.forEach(el => {
        el.style.backgroundColor = ''; // Clear inline background color
        el.style.color = '';           // Clear inline text color
        el.style.borderColor = '';     // Clear inline border color
      });
      styleSheet.innerHTML = ''; // Remove hover styles
      return;
    }

    // Apply theme colors dynamically
    let backgroundColor, textColor, borderColor, hoverBackgroundColor, hoverTextColor;

switch (theme) {
case 'vibrant-lime':
    backgroundColor = '#00e676'; // Vibrant lime green
    textColor = '#004d40'; // Dark teal text
    borderColor = '#00b248'; // Darker green border
    hoverBackgroundColor = '#00c853'; // Darker vibrant lime hover
    hoverTextColor = '#ffffff'; // White hover text
    break;
case 'misty-gray':
    backgroundColor = '#9e9e9e'; // Misty gray
    textColor = '#212121'; // Dark gray text
    borderColor = '#757575'; // Soft gray border
    hoverBackgroundColor = '#616161'; // Darker gray hover
    hoverTextColor = '#ffffff'; // White hover text
    break;
  default:
    return;
}

    // Apply the base styles to all elements
    allElements.forEach(el => {
      el.style.backgroundColor = backgroundColor;
      el.style.color = textColor;
      el.style.borderColor = borderColor;
    });

    // Add hover effects dynamically using the stylesheet
    styleSheet.innerHTML = `
      button, a {
        transition: background-color 0.3s, color 0.3s;
      }
      button:hover, a:hover {
        background-color: ${hoverBackgroundColor};
        color: ${hoverTextColor};
      }
    `;
  }

  // Helper function to create or find the dynamic stylesheet
  function createDynamicStyleSheet() {
    const styleSheet = document.createElement('style');
    styleSheet.id = 'dynamic-theme-styles';
    document.head.appendChild(styleSheet);
    return styleSheet;
  }
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Load the saved panic key from localStorage
    const savedPanicKey = localStorage.getItem('panicKey');

    if (savedPanicKey) {
      // Listen for key presses globally to activate the panic key
      document.addEventListener('keydown', function (event) {
        if (event.key === savedPanicKey) {
          // Redirect to Google Classroom when the panic key is pressed
          window.location.href = 'https://classroom.google.com';
        }
      });
    }
  });
</script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    // Load the saved tab cloak setting from localStorage
    const savedCloak = localStorage.getItem('tabCloak');
    if (savedCloak) {
      applyTabCloak(savedCloak);
    }

    // Listen for changes in the tab cloak setting (if a selector is present)
    const tabCloakSelector = document.getElementById('tab-cloak-selector');
    if (tabCloakSelector) {
      tabCloakSelector.addEventListener('change', function () {
        const selectedCloak = tabCloakSelector.value;
        localStorage.setItem('tabCloak', selectedCloak);
        applyTabCloak(selectedCloak);
      });
    }
  });

  // Function to apply tab cloaking settings dynamically
  function applyTabCloak(cloak) {
    let title, faviconUrl;
    switch (cloak) {
      case 'google-classroom':
        title = 'Google Classroom';
        faviconUrl = 'https://ssl.gstatic.com/classroom/favicon.png';
        break;
      case 'amplify':
        title = 'Amplify';
        faviconUrl = 'https://avatars.githubusercontent.com/u/15659472?s=280&v=4';
        break;
      case 'google-docs':
        title = 'Google Docs';
        faviconUrl = 'https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico';
        break;
      case 'desmos':
        title = 'Desmos Calculator';
        faviconUrl = 'https://is1-ssl.mzstatic.com/image/thumb/Purple221/v4/92/e4/3c/92e43c1b-0ae3-1fcd-a0db-4eb75f07644a/AppIcon-Desmos-0-0-1x_U007emarketing-0-5-85-220.png/512x512bb.jpg';
        break;
      default:
        // Default case - reset title and favicon
        title = 'YoBoiJake';
        faviconUrl = '/assets/images/logo.png';
    }

    // Apply the title and favicon to the page
    document.title = title;

    // Create a new link element or update the existing one
    let link = document.createElement('link');
    link.rel = 'icon';
    link.type = 'image/png';
    link.href = faviconUrl;

    // Check if the link already exists and remove it if so
    let existingLink = document.querySelector('link[rel="icon"]');
    if (existingLink) {
      document.head.removeChild(existingLink);
    }

    // Append the new link element for the favicon
    document.head.appendChild(link);
  }
</script>

</body>
</html>
