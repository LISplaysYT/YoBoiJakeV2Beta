<DOCTYPE html>
  <html>
    <head>
      <script>
        let conversationHistory = [];

async function sendMessage() {
  const userInput = document.getElementById('user-input').value;

  // Add user's message to the conversation history
  conversationHistory.push({ role: "user", content: userInput });

  const response = await fetch("https://api.openai.com/v1/chat/completions", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer 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"
    },
    body: JSON.stringify({
      model: "gpt-4",
      messages: conversationHistory
    })
  });

  const data = await response.json();
  const reply = data.choices[0].message.content;

  // Add ChatGPT's reply to the conversation history
  conversationHistory.push({ role: "assistant", content: reply });

  // Display the conversation
  const chatDisplay = document.getElementById('chat-display');
  chatDisplay.innerHTML += `<div>User: ${userInput}</div>`;
  chatDisplay.innerHTML += `<div>ChatGPT: ${reply}</div>`;

  // Clear the input field
  document.getElementById('user-input').value = "";
}
      </script>
      <style>
#chat-container {
  max-width: 600px;
  margin: auto;
  border: 1px solid #ccc;
  padding: 10px;
  font-family: Arial, sans-serif;
}
#chat-display {
  border: 1px solid #ddd;
  padding: 10px;
  height: 300px;
  overflow-y: auto;
  background-color: #f9f9f9;
}
#user-input {
  width: 80%;
  padding: 8px;
}
button {
  padding: 8px 12px;
}
</style>
    </head>
    <body>
      <div id="chat-container">
  <div id="chat-display"></div>
  <input type="text" id="user-input" placeholder="Type your message here..." />
  <button onclick="sendMessage()">Send</button>
</div>
    </body>
  </html>
